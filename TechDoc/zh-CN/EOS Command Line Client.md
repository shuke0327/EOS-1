# EOS命令行客户(eosc)

工具发送的交易和查询的国家从eosd的。 更多...

EOS命令行客户端（eosc）, 用于从eosd发送事务和查询状态的工具。 更多...

## 介绍EOSC--EOSC简介

eosc是命令行工具，该工具的接口，与其他api通过eosd的。 为了使用eosc你会需要有一个地方复制的eosd运行和配置装载的'eos::chain_api_plugin的'。

eosc是用来与eosd提供的REST api接口进行交互的命令行工具。为了使用eosc，需要在本地运行的eosd，并且已配置加载'eos::chain_api_plugin'插件。

    #插件(s)启用，可以指定多次
    插件=eos::producer_plugin
    插件=eos::chain_api_plugin
    

后开始eosd你应该能够查询目前的区块链状态，像这样：

启动eosd后，就可以查询当前的区块状态，如下所示：

    ./eosc信息
    {
    "head_block_num":25048,
    "last_irreversible_block_num":25027,
    "head_block_id":"000061d8ae49d6af614e02779e19261959f22d6d9f37906ed5db2dabd88be142",
    "head_block_time":"2017-07-25T17:44:48",
    "head_block_producer":"因素有关",
    "recent_slots":"1110000000000000000000000000000000000000000000000000000000000011",
    "participation_rate":"0.07812500000000000"
    }
    

## 创建一个帐户--创建账户

为了创建一个帐户将需要两个新的键：owener和活动。 你可以问eosc创造一些钥匙给你：

为了创建一个帐户，您需要两个新的密钥：owener和active。您可以使用eosc创建密钥：

    ./eosc创造的关键
    公众：EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hbdcbw5knpzcursvhq
    私人：5JKbLfCXgcafDQVwHMm3shHt6iRWgrr9adcmt6vx3fnjaetjgat
    

注意的

eosc不保存所产生的私人钥匙。

eosc不保存生成的私钥。

接下来我们将创建的帐户测试，但因为所有客户需要建立通过现有的帐户我们将要求inita帐户创建测试仪。 inita是指在起源的文件。

接我们将创建该帐户tester，但是由于所有帐户都需要由现有帐户创建，我们将要求inita帐户创建tester。inita用户由创世块配置文件设定。

    ./eosc创建的帐户inita测试仪EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hbdcbw5knpzcursvhq EOS6KdkmwhPyc2wxN9SAFwo2PU2h74nWs7urn1urduawkcns2uxsa
    {
    "返回有关数据库级事务的信息":"6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120",
    "处理":{
    "refBlockNum":"25217",
    "refBlockPrefix":"2095475630",
    "过期":"2017-07-25T17:54:55的"，
    "范围"的：[
    "eos",
    "inita"
    的]
    "签名":[],
    "信息":[{
    "代码":"eos",
    "类型"："新帐户",
    "授权":[{
    "帐户":"inita",
    "权限":"活动"
    }
    的]
    "数据"："c9251a0000000000b44c5a2400000000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000001c9251a000000000061d0640b000000000100010000000000000008454f5300000000"
    }
    的]
    "输出":[{
    "通知":[],
    "sync_transactions":[],
    "async_transactions":[]
    }
    ]
    }
    }
    
    

之后创建的帐户我们可以查看该账户当前状况，像这样：

创建帐户后，我们可以查看当前帐户状态：

    ./eosc帐户测试仪
    {
    "名称"："测试"中，
    "eos_balance":0,
    "staked_balance":1,
    "unstaking_balance":0,
    "last_unstaking_time":"1969-12-31T23:59:59"
    }
    

你会注意到，没有平衡，因为几乎所有的创EOS标记目前分配给驻外办事处的帐户。

你可能会注意到，帐户余额为0，因为几乎所有的EOS代币目前都被分配到eos帐户中。

    ./eosc帐户eos
    {
    "名称"："eos",
    "eos_balance":"8999999999998100",
    "staked_balance":0,
    "unstaking_balance":0,
    "last_unstaking_time":"1969-12-31T23:59:59",
    "abi":{
    "类型":[{
    "newTypeName":"帐户名"的，
    "类型"："Name"
    }
    的]
    "结构":[{
    "名称"："转移"，
    "基地":"",
    "fields":{
    "从":"帐户名"的，
    "到":"帐户名"的，
    "量":"UInt64"
    }
    }
    的]
    "行动":[{
    "行动":"转移"，
    "类型"："转移"
    }
    的]
    "表"的：[]
    }
    }
    

注意的

驻外办事处的帐户情况有一个ABI(应用程序接口)的定义提供元数据的工具，要接口，与驻外办事处的合同。 我们可以资助我们的测试的账户eosc与以下命令：

该eos帐户刚好配有一个ABI（应用程序二进制接口），它提供元数据给eos智能合约交互工具。 使用eosc命令可以给测试仪帐户充值：

    ./eosc传eos测试仪1000
    {
    "返回有关数据库级事务的信息":"52b488d27ce1f72a2b29f22e5e1638fa5db5d7805565884e795733a15c6c2195",
    "处理":{
    "refBlockNum":"25298",
    "refBlockPrefix":"1151709320",
    "过期":"2017-07-25T17:58:58"的，
    "范围"的：[
    "eos",
    "测试"
    的]
    "签名":[],
    "信息":[{
    "代码":"eos",
    "类型"："转移"，
    "授权":[{
    "帐户":"eos",
    "权限":"活动"
    }
    的]
    "数据":{
    "从":"eos",
    "到":"测试"中，
    "量":1000
    },
    "hex_data":"e54d000000000000b44c5a2400000000e803000000000000"
    }
    的]
    "输出":[{
    "通知":[{
    "名称"："测试"中，
    "输出":{
    "通知":[],
    "sync_transactions":[],
    "async_transactions":[]
    }
    }
    的]
    "sync_transactions":[],
    "async_transactions":[]
    }
    ]
    }
    }
    

现在我们可以验证的资金被接收的。

现在我们可以验证收到的资金。

    ./eosc帐户测试仪
    {
    "名称"："测试"中，
    "eos_balance":1000,
    "staked_balance":1,
    "unstaking_balance":0,
    "last_unstaking_time":"1969-12-31T23:59:59"
    }
    
    

## 创建一个合同--创建合约

在这一节中，我们将使用eosc创建和发布的货币合同。 你可以找到例汇合同在eos/contracts/货币目录。 第一步是创建一个帐户的货币。 我们将测试的账户创造的货币帐户。

本，我们将用于eosc创建和发布智能合约。示例在eos/contracts/currency目录中。 第一步是创建合约账号。我们将使用tester帐户创建currency帐户。

    ./eosc创建的帐户测试仪货币EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hbdcbw5knpzcursvhq EOS6KdkmwhPyc2wxN9SAFwo2PU2h74nWs7urn1urduawkcns2uxsa
    

下一个步骤是发布本合同(中。伙)和其abi(中。abi)

下一步是发布合约（中。伙）及其abi（中。abi）

    ./eosc setcode货币../../contracts/货币/货币。伙../../contracts/货币/货币。abi
    {
    "返回有关数据库级事务的信息":"738669518a8fc6935394992beec1dc4dc1b60f7d9f232b6ccd6a282619eedca9",
    "处理":{
    "refBlockNum":"25386",
    "refBlockPrefix":"154808726",
    "过期":"2017-07-25T18:03:22",
    "范围"的：[
    "eos",
    "货币"
    的]
    "签名":[],
    "信息":[{
    "代码":"eos",
    "类型"："setcode",
    "授权":[{
    "帐户":"货币"，
    "权限":"活动"
    }
    的]
    "数据"："a34a59dcc80000000000f7090061736d0100000001390a60037e7e7e017f60047e7e7f7f017f60017e0060057e7e7e7f7f017f60027f7f0060027f7f017f60027e7f0060017f0060000060027e7e0002760703656e7606617373657274000403656e76086c6f61645f693634000303656e760b726561644d657373616765000503656e760a72656d6f76655f693634000003656e760b7265717569726541757468000203656e760d726571756972654e6f74696365000203656e760973746f72655f6936340001030504060708090404017000000503010001077e05066d656d6f727902002a5f5a4e3863757272656e6379313273746f72654163636f756e744579524b4e535f374163636f756e74450007355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e7366657245000804696e69740009056170706c79000a0aaa04043100024020012903084200510d00200042e198deead1002001411010061a0f0b200042e198deead100200129030010031a0bd30202017e017f4100410028020441206b220236020420002903002101200029030810052001100520002903001004200242e198deead10037031020024200370318200029030042a395e5e28d1942e198deead100200241106a411010011a200242e198deead10037030020024200370308200029030842a395e5e28d1942e198deead1002002411010011a200229031820002903105a4110100020022002290318200029031022017d370318200120022903087c20015a41c00010002002200229030820002903107c370308200029030021010240024020022903184200510d00200142e198deead100200241106a411010061a0c010b200142e198deead100200229031010031a0b200041086a290300210102400240200241086a2903004200510d00200142e198deead1002002411010061a0c010b200142e198deead100200229030010031a0b4100200241206a3602040b4901017f4100410028020441106b22003602042000428094ebdc03370308200042e198deead10037030042a395e5e28d1942e198deead1002000411010061a4100200041106a3602040b5701017f4100410028020441206b22023602040240200042a395e5e28d19520d00200142d48cdce99412520d0020024200370318200241086a4118100241174b41f0001000200241086a10080b4100200241206a3602040b0b8b01040041040b04900400000041100b2c696e746567657220756e646572666c6f77207375627472616374696e6720746f6b656e2062616c616e6365000041c0000b26696e7465676572206f766572666c6f7720616464696e6720746f6b656e2062616c616e6365000041f0000b1e6d6573736167652073686f72746572207468616e2065787065637465640000ec01046e616d650b06617373657274020000086c6f61645f6936340500000000000b726561644d6573736167650200000a72656d6f76655f693634030000000b726571756972654175746801000d726571756972654e6f7469636501000973746f72655f69363404000000002a5f5a4e3863757272656e6379313273746f72654163636f756e744579524b4e535f374163636f756e74450201300131355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e73666572450301300131013204696e6974010130056170706c7903013001310132010b4163636f756e744e616d65044e616d6502087472616e7366657200030466726f6d0b4163636f756e744e616d6502746f0b4163636f756e744e616d6506616d6f756e740655496e743634076163636f756e740002036b65790655496e7436340762616c616e63650655496e743634015406374d91000000087472616e7366657201618c571d05000000076163636f756e74"
    }
    的]
    "输出":[{
    "通知":[],
    "sync_transactions":[],
    "async_transactions":[]
    }
    ]
    }
    }
    

后合同发表了它的最初分配的所有货币的货币帐户。 所以让我们转移它的一些到我们的测试仪。

合约发布后，它首先将所有代币分配到currency帐户。所以我们先转移一些代币到tester帐户上。

    ./eosc执行货币转账'{"从":"货币"，"到":"测试"中，"数量":50}''["货币"，"测试"]''[{的"账户":"货币"，"权限":"活动"}]'
    {
    "返回有关数据库级事务的信息":"f601f2fdb26e366a19913229e4d2928778b50166811c63c7962401b11d23ef3d",
    "处理":{
    "refBlockNum":"25427",
    "refBlockPrefix":"2231248056",
    "过期":"2017-07-25T18:05:25",
    "范围"的：[
    "测试"中，
    "货币"
    的]
    "签名":[],
    "信息":[{
    "代码"：一"货币"，
    "类型"："转移"，
    "授权":[{
    "帐户":"货币"，
    "权限":"活动"
    }
    的]
    "数据":{
    "从":"货币"，
    "到":"测试"中，
    "量":50
    },
    "hex_data":"a34a59dcc8000000b44c5a24000000003200000000000000"
    }
    的]
    "输出":[{
    "通知":[{
    "名称"："测试"中，
    "输出":{
    "通知":[],
    "sync_transactions":[],
    "async_transactions":[]
    }
    }
    的]
    "sync_transactions":[],
    "async_transactions":[]
    }
    ]
    }
    }
    

Exec命令采取下列参数：

    •代码帐户的合同码应该跑
    •行动的消息的类型以通向代码
    •数据JSON blob(或hex string)的信息数据定义通过的《行动的类型。
    •范围：一个JSON列的帐户名称其中包含有数据，可以读取或修改通过代码(在这种情况下发送者和接收)
    •授权的账户和权限级别的授权的行动
    

该exec命令采用以下参数：

    •代码-执行代码所属的合约帐户名
    •行动传递给帐户的消息类型
    •数据由ABI为消息类型定义的消息数据，使用JSON blob（或十六进制字符串）的格式。
    •范围-一个帐户名称的JSON数组，这个数组是包含一些可以被code(合约账户)读取或修改的数据（在本例中为发送账户和接收账户）
    •授权授权操作的帐户和权限级别
    

注意的

在这一次区块链不是验证的签名，因此任何人都可以做任何提供他们只是声明的适当机构。 在未来，这将直接的钱包在哪键要使用签字。 也未来的修订，这API可自动地检测的范围和授权通过一个试验运行的合同。

目区块链没有验证签名，所以所有帐户都可以做任何事情，只要他们声明有相应的权限。以将直接使用钱包中的私钥签名。此API的未来版本也可能会通过合约的试运行来自动检测授权和范围。